<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/static/common/js/fetchUtils.js" type="text/javascript"></script>
    <title>Document</title>
</head>
<body>
<input type="text" id="name">
<button onclick="save()">save</button>

<div class="listArea">

</div>
<script>
    window.onload = () => {
        findAllByMemberId();
    }

    async function findAllByMemberId() {
        const url = `/api/subjects`;
        const response = await fetchGet(url);
        drawList(response);
    }

    function drawList(response) {
        let html = ``;
        response.forEach(item => {
            html += `<div><a href="/user/chapter?subjectId=${item.subjectId}">${item.name}</a></div>`
        })
        find('.listArea').innerHTML = html;
    }


    async function save() {
        const url = `/api/subjects`;
        const name = find('#name').value;
        const json = {name}
        const response = await fetchPostByJson(url , json);
        location.reload();
    }

</script>
</body>
</html>