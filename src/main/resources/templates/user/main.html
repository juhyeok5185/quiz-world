<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="user/layout">

<div layout:fragment="content" class="p-4 space-y-6">

    <!-- 사용자 정보 및 점수 -->
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
        <div>
            <h2 class="text-xl font-bold">박주혁</h2>
            <p class="text-gray-500 text-sm">현재 보유 점수</p>
        </div>
        <div class="text-2xl font-bold text-blue-500">3,456</div>
    </div>

    <!-- 내 과목 바로가기 -->
    <div class="p-4 bg-white border rounded-lg shadow-md hover:bg-gray-100 transition cursor-pointer"
         onclick="location.href='/user/subject'">
        <p class="text-lg font-semibold text-gray-700">내 과목 바로가기</p>
    </div>

    <!-- 과목 검색하기 -->
    <div class="p-4 bg-white border rounded-lg shadow-md hover:bg-gray-100 transition cursor-pointer"
         onclick="alert('준비중 입니다.')">
        <p class="text-lg font-semibold text-gray-700">과목 검색하기</p>
    </div>

    <!-- 그래프 영역 -->
    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-lg font-semibold mb-4">학습 그래프</h3>
        <div class="relative w-full h-[200px]">
            <canvas id="progressChart"></canvas>
        </div>
    </div>


</div>

<th:block layout:fragment="script">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script th:inline="javascript">
        document.addEventListener("DOMContentLoaded", function () {
            const ctx = document.getElementById('progressChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['10일', '14일', '20일', '25일', '28일'],
                    datasets: [{
                        label: '점수 변화',
                        data: [100, 250, 500, 800, 1200],
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        });

    </script>
</th:block>

</html>
